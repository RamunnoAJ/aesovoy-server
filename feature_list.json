[
  {
    "category": "functional",
    "description": "Fix User Creation: Update internal/views/templates/users_list.html to send POST requests to /api/v1/users instead of /users.",
    "steps": [
      "Step 1: Open internal/views/templates/users_list.html",
      "Step 2: Locate the fetch call in the createUser function",
      "Step 3: Change the URL from '/users' to '/api/v1/users'",
      "Step 4: Verify no other 'POST' calls to '/users' exist in the file"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Can't login with wrong credentials",
    "steps": [
      "Step 1: Open the app",
      "Step 2: Navigate to the login page",
      "Step 3: Insert incorrect credentials",
      "Step 4: Take a screenshot of the error shown"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Provider Categorization - Backend",
    "steps": [
      "Step 1: Create migration for 'provider_categories' table and add 'category_id' to 'providers' table with default value.",
      "Step 2: Create 'ProviderCategory' struct in internal/api/provider_handler.go or internal/store.",
      "Step 3: Implement Store methods (Create, List, Update, Delete) for provider categories.",
      "Step 4: Implement API Handlers for provider categories (CRUD).",
      "Step 5: Update Provider CRUD to handle 'category_id'."
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Provider Categorization - UI: Integrated Category Management into Providers List",
    "steps": [
      "Step 1: Verify that Provider Categories can be listed on the /providers page.",
      "Step 2: Verify that new Provider Categories can be created directly from the /providers page.",
      "Step 3: Verify that existing Provider Categories can be edited directly from the /providers page using an inline form.",
      "Step 4: Verify that Provider Categories can be deleted directly from the /providers page.",
      "Step 5: Verify that the Provider Form (internal/views/templates/provider_form.html) still correctly includes a category dropdown and saves the category for a provider.",
      "Step 6: Verify that the Providers List (internal/views/templates/providers_list.html) correctly displays the provider's category."
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Provider Category Row (HTMX Partial)",
    "steps": [
      "Step 1: This HTMX partial is rendered when a new provider category is created or updated.",
      "Step 2: It displays the category ID, name, and provides 'Edit' and 'Delete' buttons.",
      "Step 3: Verify that it correctly triggers hx-get and hx-delete requests."
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Provider Category Edit Row (HTMX Partial)",
    "steps": [
      "Step 1: This HTMX partial is rendered when the 'Edit' button for a provider category is clicked.",
      "Step 2: It displays an input field for the category name and 'Guardar' (Save) and 'Cancelar' (Cancel) buttons.",
      "Step 3: Verify that it correctly triggers hx-put for saving and hx-get for canceling."
    ],
    "passes": true
  },
  {
    "category": "enhancement",
    "description": "Quick Create Categories in Forms",
    "steps": [
      "Step 1: Create reusable modal template (quick_category_modal.html) using Alpine.js and HTMX.",
      "Step 2: Add 'Create New Category' option to Product and Provider forms' category select.",
      "Step 3: Implement backend handlers HandleQuickCreateCategory and HandleQuickCreateProviderCategory to return HTML options.",
      "Step 4: Verify modal opens, submits, and updates the select dropdown with the new category automatically."
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Expenses Management - Backend",
    "steps": [
      "Step 1: Create migration for 'expenses' table (fields: amount, image_path, provider_id, category, type [local/production], date, created_at).",
      "Step 2: Create 'Expense' struct and Store methods.",
      "Step 3: Implement Service/Handler for Expenses including file upload for images.",
      "Step 4: Add Middleware or check to ensure only Admins can access these endpoints."
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Expenses Management - UI",
    "steps": [
      "Step 1: Create a new main navigation item 'Gastos' (visible only to Admins).",
      "Step 2: Create a view with tabs for 'Gastos Local' and 'Gastos Producci√≥n'.",
      "Step 3: Implement the 'Add Expense' form with file upload support.",
      "Step 4: Implement the list view for expenses showing details and image thumbnails."
    ],
    "passes": true
  },
  {
    "category": "core_feature",
    "description": "Business Dashboard",
    "steps": [
      "Step 1: Create a Dashboard View (replacing or enhancing the current Home).",
      "Step 2: Implement widgets for 'Sales Today', 'Pending Production', 'Low Stock Alerts'.",
      "Step 3: Create backend queries to aggregate this data efficiently.",
      "Step 4: Add a chart (using Chart.js or similar light lib) for 'Sales last 7 days'."
    ],
    "passes": true
  },
  {
    "category": "core_feature",
    "description": "Stock Movement History (Audit Log)",
    "steps": [
      "Step 1: Create migration for 'stock_movements' table (product_id, change_amount, reason, user_id, created_at).",
      "Step 2: Create StockMovementStore and methods.",
      "Step 3: Update LocalStockService to record a movement whenever stock is created, adjusted, or sold.",
      "Step 4: Create a view to list stock history for a specific product (accessible via Product details)."
    ],
    "passes": false
  },
  {
    "category": "core_feature",
    "description": "Cash Management (Cierre de Caja)",
    "steps": [
      "Step 1: Create migration for 'shifts' table (start_time, end_time, start_cash, end_cash_declared, user_id, status).",
      "Step 2: Implement Shift Store and Service.",
      "Step 3: Add UI for 'Open Shift' (asking for initial cash) and 'Close Shift' (asking for final count).",
      "Step 4: Generate a 'Shift Report' showing expected cash vs declared cash."
    ],
    "passes": false
  }
]